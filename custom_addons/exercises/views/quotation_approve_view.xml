<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="quotation_for_approval_tree_view" model="ir.ui.view">
        <field name="name">sale.order.quotation.tree</field>
        <field name="model">sale.order</field>
        <field name="arch" type="xml">
            <!--                    <field/>-->
            <tree string="Quotation" class="o_sale_order" sample="1"
                  decoration-danger="approval_status == 'required'"
                  decoration-success="approval_status == 'approved'"
                  decoration-info="state in ['draft', 'sent']"
                  decoration-muted="state == 'cancel'">
                <field name="name" string="Number" readonly="1" decoration-bf="1"/>
                <field name="create_date" string="Creation Date" widget="date" optional="show"/>
                <field name="partner_id" readonly="1"/>
                <field name="user_id" widget="many2one_avatar_user" optional="show"/>
                <field name="company_id" groups="base.group_multi_company" optional="show" readonly="1"/>
                <field name="company_id" groups="!base.group_multi_company" invisible="1"/>
                <field name="amount_untaxed" sum="Total Tax Excluded" widget="monetary" optional="hide"/>
                <field name="amount_tax" sum="Tax Total" widget="monetary" optional="hide"/>
                <field name="amount_total" sum="Total Tax Included" widget="monetary" decoration-bf="1"
                       optional="show"/>
                <field name="state" readonly="1" optional="hide"/>
                <field name="approval_status" optional="show"/>
            </tree>
        </field>
    </record>

    <record id="quotation_for_approval_form_view" model="ir.ui.view">
        <field name="name">sale.order.quotation.form</field>
        <field name="model">sale.order</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <form name="name"/>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_quotation_for_approval" model="ir.actions.act_window">
        <field name="name">Quotation for approval</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <!--        <field name="view_ids"-->
        <!--               eval="[(0, 0, {'view_id': ref('quotation_for_approval_tree_view'), 'view_mode': 'tree'}), (0, 0, {'view_id': ref('quotation_for_approval_form_view'), 'view_mode': 'form'})]"/>-->
        <!--        <field name="view_mode">tree,form</field>-->
        <field name="domain">[('approval_status', '!=', 'approved'), ('approval_status', '!=', '')]</field>
    </record>
    <record id="action_quotation_for_approval_tree_view" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="quotation_for_approval_tree_view"/>
        <field name="act_window_id" ref="action_hr_voucher_confirmation_list"/>
    </record>
</odoo>